<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Controller group class — crew_class_controller_group • crew</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Controller group class — crew_class_controller_group"><meta property="og:description" content="R6 class for controller groups."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">crew</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/controller_groups.html">Controller groups</a>
    </li>
    <li>
      <a href="../articles/launcher_plugins.html">Launcher plugins</a>
    </li>
    <li>
      <a href="../articles/shiny.html">Asynchronous Shiny apps</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/wlandau/crew/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Controller group class</h1>
    <small class="dont-index">Source: <a href="https://github.com/wlandau/crew/blob/HEAD/R/crew_controller_group.R" class="external-link"><code>R/crew_controller_group.R</code></a></small>
    <div class="hidden name"><code>crew_class_controller_group.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>R6</code> class for controller groups.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>See <code><a href="crew_controller_group.html">crew_controller_group()</a></code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other controllers: 
<code><a href="crew_class_controller.html">crew_class_controller</a></code>,
<code><a href="crew_controller_group.html">crew_controller_group</a>()</code>,
<code><a href="crew_controller_local.html">crew_controller_local</a>()</code>,
<code><a href="crew_controller.html">crew_controller</a>()</code></p></div>
    </div>
    <div id="public-fields">
    <h2>Public fields</h2>
    <p></p><div class="r6-fields"><dl><dt><code>controllers</code></dt>
<dd><p>List of <code>R6</code> controller objects.</p></dd>


</dl><p></p></div>
    </div>
    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-crew_class_controller_group-new"><code>crew_class_controller_group$new()</code></a></p></li>
<li><p><a href="#method-crew_class_controller_group-validate"><code>crew_class_controller_group$validate()</code></a></p></li>
<li><p><a href="#method-crew_class_controller_group-empty"><code>crew_class_controller_group$empty()</code></a></p></li>
<li><p><a href="#method-crew_class_controller_group-start"><code>crew_class_controller_group$start()</code></a></p></li>
<li><p><a href="#method-crew_class_controller_group-launch"><code>crew_class_controller_group$launch()</code></a></p></li>
<li><p><a href="#method-crew_class_controller_group-scale"><code>crew_class_controller_group$scale()</code></a></p></li>
<li><p><a href="#method-crew_class_controller_group-push"><code>crew_class_controller_group$push()</code></a></p></li>
<li><p><a href="#method-crew_class_controller_group-collect"><code>crew_class_controller_group$collect()</code></a></p></li>
<li><p><a href="#method-crew_class_controller_group-pop"><code>crew_class_controller_group$pop()</code></a></p></li>
<li><p><a href="#method-crew_class_controller_group-wait"><code>crew_class_controller_group$wait()</code></a></p></li>
<li><p><a href="#method-crew_class_controller_group-summary"><code>crew_class_controller_group$summary()</code></a></p></li>
<li><p><a href="#method-crew_class_controller_group-terminate"><code>crew_class_controller_group$terminate()</code></a></p></li>
</ul></div><p></p><hr><a id="method-crew_class_controller_group-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Multi-controller constructor.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/crew_class_controller_group.html">crew_class_controller_group</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>controllers <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>controllers</code></dt>
<dd><p>List of <code>R6</code> controller objects.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>An <code>R6</code> object with the controller group object.</p>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CREW_EXAMPLES"</span><span class="op">)</span>, <span class="st">"true"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span><span class="fu">crew_session_start</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">persistent</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/crew_controller_local.html">crew_controller_local</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"persistent"</span><span class="op">)</span></span>
<span><span class="va">transient</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/crew_controller_local.html">crew_controller_local</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"transient"</span>,</span>
<span>  max_tasks <span class="op">=</span> <span class="fl">1L</span></span>
<span><span class="op">)</span></span>
<span><span class="va">group</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/crew_controller_group.html">crew_controller_group</a></span><span class="op">(</span><span class="va">persistent</span>, <span class="va">transient</span><span class="op">)</span></span>
<span><span class="va">group</span><span class="op">$</span><span class="fu">connect</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">group</span><span class="op">$</span><span class="fu">push</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"task"</span>, command <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span>, controller <span class="op">=</span> <span class="st">"transient"</span><span class="op">)</span></span>
<span><span class="va">group</span><span class="op">$</span><span class="fu">wait</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">group</span><span class="op">$</span><span class="fu">pop</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">group</span><span class="op">$</span><span class="va">controllers</span><span class="op">[[</span><span class="st">"persistent"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">launcher</span><span class="op">$</span><span class="fu">running</span><span class="op">(</span><span class="op">)</span> <span class="co"># 0</span></span>
<span><span class="va">group</span><span class="op">$</span><span class="va">controllers</span><span class="op">[[</span><span class="st">"transient"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">launcher</span><span class="op">$</span><span class="fu">running</span><span class="op">(</span><span class="op">)</span> <span class="co"># 0</span></span>
<span><span class="va">group</span><span class="op">$</span><span class="fu">terminate</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">crew_session_terminate</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-crew_class_controller_group-validate"></a><div class="section">
<h3 id="method-validate-">Method <code>validate()</code><a class="anchor" aria-label="anchor" href="#method-validate-"></a></h3>
<p>Validate the router.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">crew_class_controller_group</span><span class="op">$</span><span class="fu">validate</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div><p></p><hr><a id="method-crew_class_controller_group-empty"></a><div class="section">
<h3 id="method-empty-">Method <code>empty()</code><a class="anchor" aria-label="anchor" href="#method-empty-"></a></h3>
<p>See if the controllers are empty.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">crew_class_controller_group</span><span class="op">$</span><span class="fu">empty</span><span class="op">(</span>controllers <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>controllers</code></dt>
<dd><p>Character vector of controller names.
Set to <code>NULL</code> to select all controllers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h4>
<p>A controller is empty if it has no running tasks
or completed tasks waiting to be retrieved with <code>push()</code>.</p>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p><code>TRUE</code> if all the selected controllers are empty,
<code>FALSE</code> otherwise.</p>
</div>

</div><p></p><hr><a id="method-crew_class_controller_group-start"></a><div class="section">
<h3 id="method-start-">Method <code><a href="https://rdrr.io/r/stats/start.html" class="external-link">start()</a></code><a class="anchor" aria-label="anchor" href="#method-start-"></a></h3>
<p>Start one or more controllers.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">crew_class_controller_group</span><span class="op">$</span><span class="fu">start</span><span class="op">(</span>controllers <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>controllers</code></dt>
<dd><p>Character vector of controller names.
Set to <code>NULL</code> to select all controllers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div><p></p><hr><a id="method-crew_class_controller_group-launch"></a><div class="section">
<h3 id="method-launch-">Method <code>launch()</code><a class="anchor" aria-label="anchor" href="#method-launch-"></a></h3>
<p>Launch one or more workers on one or more controllers.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">crew_class_controller_group</span><span class="op">$</span><span class="fu">launch</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1L</span>, controllers <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>n</code></dt>
<dd><p>Number of workers to launch in each controller selected.</p></dd>


<dt><code>controllers</code></dt>
<dd><p>Character vector of controller names.
Set to <code>NULL</code> to select all controllers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div><p></p><hr><a id="method-crew_class_controller_group-scale"></a><div class="section">
<h3 id="method-scale-">Method <code><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale()</a></code><a class="anchor" aria-label="anchor" href="#method-scale-"></a></h3>
<p>Automatically scale up the number of workers if needed
in one or more controller objects.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">crew_class_controller_group</span><span class="op">$</span><span class="fu">scale</span><span class="op">(</span>controllers <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>controllers</code></dt>
<dd><p>Character vector of controller names.
Set to <code>NULL</code> to select all controllers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p>See the <code><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale()</a></code> method in individual controller classes.</p>
</div>

<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div><p></p><hr><a id="method-crew_class_controller_group-push"></a><div class="section">
<h3 id="method-push-">Method <code>push()</code><a class="anchor" aria-label="anchor" href="#method-push-"></a></h3>
<p>Push a task to the head of the task list.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">crew_class_controller_group</span><span class="op">$</span><span class="fu">push</span><span class="op">(</span></span>
<span>  <span class="va">command</span>,</span>
<span>  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  globals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  substitute <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  seed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample.int</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000000000L</span>, size <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span>,</span>
<span>  packages <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  library <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  seconds_timeout <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  controller <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>command</code></dt>
<dd><p>Language object with R code to run.</p></dd>


<dt><code>data</code></dt>
<dd><p>Named list of local data objects in the
evaluation environment.</p></dd>


<dt><code>globals</code></dt>
<dd><p>Named list of objects to temporarily assign to the
global environment for the task. See the <code>reset_globals</code>
argument of <code><a href="crew_controller_local.html">crew_controller_local()</a></code>.</p></dd>


<dt><code>substitute</code></dt>
<dd><p>Logical of length 1, whether to call
<code><a href="https://rdrr.io/r/base/substitute.html" class="external-link">base::substitute()</a></code> on the supplied value of the
<code>command</code> argument. If <code>TRUE</code> (default) then <code>command</code> is quoted
literally as you write it, e.g.
<code>push(command = your_function_call())</code>. If <code>FALSE</code>, then <code>crew</code>
assumes <code>command</code> is a language object and you are passing its
value, e.g. <code>push(command = quote(your_function_call()))</code>.
<code>substitute = TRUE</code> is appropriate for interactive use,
whereas <code>substitute = FALSE</code> is meant for automated R programs
that invoke <code>crew</code> controllers.</p></dd>


<dt><code>seed</code></dt>
<dd><p>Integer of length 1 with the pseudo-random number generator
seed to temporarily set for the evaluation of the task.
At the end of the task, the seed is restored.</p></dd>


<dt><code>packages</code></dt>
<dd><p>Character vector of packages to load for the task.</p></dd>


<dt><code>library</code></dt>
<dd><p>Library path to load the packages. See the <code>lib.loc</code>
argument of <code><a href="https://rdrr.io/r/base/library.html" class="external-link">require()</a></code>.</p></dd>


<dt><code>seconds_timeout</code></dt>
<dd><p>Optional task timeout passed to the <code>.timeout</code>
argument of <code><a href="https://shikokuchuo.net/mirai/reference/mirai.html" class="external-link">mirai::mirai()</a></code> (after converting to milliseconds).</p></dd>


<dt><code>scale</code></dt>
<dd><p>Logical, whether to automatically scale workers to meet
demand. If <code>TRUE</code>, then <code>collect()</code> runs first
so demand can be properly assessed before scaling and the number
of workers is not too high.</p></dd>


<dt><code>name</code></dt>
<dd><p>Optional name of the task. Replaced with a random name
if <code>NULL</code> or in conflict with an existing name in the task list.</p></dd>


<dt><code>controller</code></dt>
<dd><p>Character of length 1,
name of the controller to submit the task.
If <code>NULL</code>, the controller defaults to the
first controller in the list.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div><p></p><hr><a id="method-crew_class_controller_group-collect"></a><div class="section">
<h3 id="method-collect-">Method <code>collect()</code><a class="anchor" aria-label="anchor" href="#method-collect-"></a></h3>
<p>Check for done tasks and move the results to
the results list.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">crew_class_controller_group</span><span class="op">$</span><span class="fu">collect</span><span class="op">(</span>controllers <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>controllers</code></dt>
<dd><p>Character vector of controller names.
Set to <code>NULL</code> to select all controllers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p><code>NULL</code> (invisibly). Removes elements from the <code>queue</code>
list as applicable and moves them to the <code>results</code> list.</p>
</div>

</div><p></p><hr><a id="method-crew_class_controller_group-pop"></a><div class="section">
<h3 id="method-pop-">Method <code>pop()</code><a class="anchor" aria-label="anchor" href="#method-pop-"></a></h3>
<p>Pop a completed task from the results data frame.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">crew_class_controller_group</span><span class="op">$</span><span class="fu">pop</span><span class="op">(</span>scale <span class="op">=</span> <span class="cn">TRUE</span>, controllers <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>scale</code></dt>
<dd><p>Logical, whether to automatically scale workers to meet
demand. If <code>TRUE</code>, then <code>collect()</code> runs first
so demand can be properly assessed before scaling and the number
of workers is not too high. Scaling up on <code>pop()</code> may be important
for transient or nearly transient workers that tend to drop off
quickly after doing little work.</p></dd>


<dt><code>controllers</code></dt>
<dd><p>Character vector of controller names.
Set to <code>NULL</code> to select all controllers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>If there is a completed task available to collect, the return
value is a one-row data frame with the results, warnings, and errors.
Otherwise, if there are no results available to collect,
the return value is <code>NULL</code>.</p>
</div>

</div><p></p><hr><a id="method-crew_class_controller_group-wait"></a><div class="section">
<h3 id="method-wait-">Method <code>wait()</code><a class="anchor" aria-label="anchor" href="#method-wait-"></a></h3>
<p>Wait for tasks.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">crew_class_controller_group</span><span class="op">$</span><span class="fu">wait</span><span class="op">(</span></span>
<span>  mode <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  seconds_interval <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  seconds_timeout <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  controllers <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>mode</code></dt>
<dd><p>If <code>mode</code> is <code>"all"</code>,
then the method waits for all tasks to complete. If <code>mode</code> is
<code>"one"</code>, then it waits until a one task is complete.</p></dd>


<dt><code>seconds_interval</code></dt>
<dd><p>Number of seconds to wait between
polling intervals while checking for results.</p></dd>


<dt><code>seconds_timeout</code></dt>
<dd><p>Timeout length in seconds waiting for
results to become available.</p></dd>


<dt><code>controllers</code></dt>
<dd><p>Character vector of controller names.
Set to <code>NULL</code> to select all controllers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a></h4>
<p>The <code>wait()</code> method blocks the calling R session,
repeatedly auto-scales workers for tasks
that need them, and repeatedly collects results.
The function runs until it either times out or one of the
controllers reaches the stopping condition
based on the <code>mode</code> argument.</p>
</div>

<div class="section">
<h4 id="returns-9">Returns<a class="anchor" aria-label="anchor" href="#returns-9"></a></h4>
<p><code>NULL</code> (invisibly). Call <code>pop()</code> to get the result.</p>
</div>

</div><p></p><hr><a id="method-crew_class_controller_group-summary"></a><div class="section">
<h3 id="method-summary-">Method <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code><a class="anchor" aria-label="anchor" href="#method-summary-"></a></h3>
<p>Summarize the workers of one or more controllers.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">crew_class_controller_group</span><span class="op">$</span><span class="fu">summary</span><span class="op">(</span></span>
<span>  columns <span class="op">=</span> <span class="fu">tidyselect</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  controllers <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>columns</code></dt>
<dd><p>Tidyselect expression to select a subset of columns.
Examples include <code>columns = contains("worker")</code> and
<code>columns = starts_with("tasks")</code>.</p></dd>


<dt><code>controllers</code></dt>
<dd><p>Character vector of controller names.
Set to <code>NULL</code> to select all controllers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-10">Returns<a class="anchor" aria-label="anchor" href="#returns-10"></a></h4>
<p>A data frame of aggregated worker summary statistics
of all the selected controllers. It has one row per worker
websocket, and the rows are grouped by controller.
See the documentation of the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method of the controller
class for specific information about the columns in the output.</p>
</div>

</div><p></p><hr><a id="method-crew_class_controller_group-terminate"></a><div class="section">
<h3 id="method-terminate-">Method <code>terminate()</code><a class="anchor" aria-label="anchor" href="#method-terminate-"></a></h3>
<p>Terminate the workers and disconnect the router
for one or more controllers.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">crew_class_controller_group</span><span class="op">$</span><span class="fu">terminate</span><span class="op">(</span>controllers <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>controllers</code></dt>
<dd><p>Character vector of controller names.
Set to <code>NULL</code> to select all controllers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-11">Returns<a class="anchor" aria-label="anchor" href="#returns-11"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div>

    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CREW_EXAMPLES"</span><span class="op">)</span>, <span class="st">"true"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">crew_session_start</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">persistent</span> <span class="op">&lt;-</span> <span class="fu"><a href="crew_controller_local.html">crew_controller_local</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"persistent"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">transient</span> <span class="op">&lt;-</span> <span class="fu"><a href="crew_controller_local.html">crew_controller_local</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"transient"</span>,</span></span>
<span class="r-in"><span>  max_tasks <span class="op">=</span> <span class="fl">1L</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span> <span class="op">&lt;-</span> <span class="fu"><a href="crew_controller_group.html">crew_controller_group</a></span><span class="op">(</span><span class="va">persistent</span>, <span class="va">transient</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="fu">connect</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="fu">push</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"task"</span>, command <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span>, controller <span class="op">=</span> <span class="st">"transient"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="fu">wait</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="fu">pop</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="va">controllers</span><span class="op">[[</span><span class="st">"persistent"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">launcher</span><span class="op">$</span><span class="fu">running</span><span class="op">(</span><span class="op">)</span> <span class="co"># 0</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="va">controllers</span><span class="op">[[</span><span class="st">"transient"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">launcher</span><span class="op">$</span><span class="fu">running</span><span class="op">(</span><span class="op">)</span> <span class="co"># 0</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="fu">terminate</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">crew_session_terminate</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `crew_class_controller_group$new`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CREW_EXAMPLES"</span><span class="op">)</span>, <span class="st">"true"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">crew_session_start</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">persistent</span> <span class="op">&lt;-</span> <span class="fu"><a href="crew_controller_local.html">crew_controller_local</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"persistent"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">transient</span> <span class="op">&lt;-</span> <span class="fu"><a href="crew_controller_local.html">crew_controller_local</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"transient"</span>,</span></span>
<span class="r-in"><span>  max_tasks <span class="op">=</span> <span class="fl">1L</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span> <span class="op">&lt;-</span> <span class="fu"><a href="crew_controller_group.html">crew_controller_group</a></span><span class="op">(</span><span class="va">persistent</span>, <span class="va">transient</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="fu">connect</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="fu">push</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"task"</span>, command <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span>, controller <span class="op">=</span> <span class="st">"transient"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="fu">wait</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="fu">pop</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="va">controllers</span><span class="op">[[</span><span class="st">"persistent"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">launcher</span><span class="op">$</span><span class="fu">running</span><span class="op">(</span><span class="op">)</span> <span class="co"># 0</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="va">controllers</span><span class="op">[[</span><span class="st">"transient"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">launcher</span><span class="op">$</span><span class="fu">running</span><span class="op">(</span><span class="op">)</span> <span class="co"># 0</span></span></span>
<span class="r-in"><span><span class="va">group</span><span class="op">$</span><span class="fu">terminate</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">crew_session_terminate</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by William Michael Landau.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

