<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Crew class. — class_crew • crew</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Crew class. — class_crew"><meta property="og:description" content="R6 class for a crew."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">crew</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/usage.html">Usage</a>
</li>
<li>
  <a href="../articles/specification.html">Specification</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ropensci/targets" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Crew class.</h1>
    <small class="dont-index">Source: <a href="https://github.com/wlandau/crew/blob/HEAD/R/class_crew.R" class="external-link"><code>R/class_crew.R</code></a></small>
    <div class="hidden name"><code>class_crew.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>R6</code> class for a crew.</p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>A crew object is an interface to manage multiple
high-performance computing workers. Supported methods
send jobs, receive output, and poll, etc.</p>
    </div>
    <div id="public-fields">
    <h2>Public fields</h2>
    <p></p><div class="r6-fields"><dl><dt><code>name</code></dt>
<dd><p>Character of length 1, crew name.</p></dd>


<dt><code>store</code></dt>
<dd><p><code>R6</code> store object.</p></dd>


<dt><code>worker_classes</code></dt>
<dd><p>Named list of <code>R6ClassGenerator</code>
objects with worker definitions. The first one
is the default.</p></dd>


<dt><code>workers</code></dt>
<dd><p>Named list of worker objects.</p></dd>


</dl><p></p></div>
    </div>
    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-new"><code>class_crew$new()</code></a></p></li>
<li><p><a href="#method-recruit"><code>class_crew$recruit()</code></a></p></li>
<li><p><a href="#method-launch"><code>class_crew$launch()</code></a></p></li>
<li><p><a href="#method-sendable"><code>class_crew$sendable()</code></a></p></li>
<li><p><a href="#method-send"><code>class_crew$send()</code></a></p></li>
<li><p><a href="#method-receivable"><code>class_crew$receivable()</code></a></p></li>
<li><p><a href="#method-receive"><code>class_crew$receive()</code></a></p></li>
<li><p><a href="#method-clear"><code>class_crew$clear()</code></a></p></li>
<li><p><a href="#method-shutdown"><code>class_crew$shutdown()</code></a></p></li>
<li><p><a href="#method-dismiss"><code>class_crew$dismiss()</code></a></p></li>
<li><p><a href="#method-restart"><code>class_crew$restart()</code></a></p></li>
<li><p><a href="#method-validate"><code>class_crew$validate()</code></a></p></li>
</ul></div><p></p><hr><a id="method-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Crew constructor.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va"><a href="../reference/class_crew.html">class_crew</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>
  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">basename</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"crew_"</span><span class="op">)</span><span class="op">)</span>,
  store <span class="op">=</span> <span class="fu">crew</span><span class="fu">::</span><span class="va"><a href="../reference/class_store_local.html">class_store_local</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span>,
  worker_classes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu">crew</span><span class="fu">::</span><span class="va"><a href="../reference/class_worker_callr.html">class_worker_callr</a></span>, <span class="fu">crew</span><span class="fu">::</span><span class="va"><a href="../reference/class_worker_future.html">class_worker_future</a></span><span class="op">)</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>name</code></dt>
<dd><p>Character of length 1, crew name.</p></dd>


<dt><code>store</code></dt>
<dd><p><code>R6</code> store object.</p></dd>


<dt><code>worker_classes</code></dt>
<dd><p>List of <code>R6ClassGenerator</code>
objects (created with <code>R6Class</code>) with worker definitions
and constructor.</p></dd>


<dt><code>max_workers</code></dt>
<dd><p>Positive integer,
maximum number of workers in the crew.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>The <code>new()</code> method calls the constructor
and returns a new crew object.</p>
</div>

</div><p></p><hr><a id="method-recruit"></a><div class="section">
<h3 id="method-recruit-">Method <code>recruit()</code><a class="anchor" aria-label="anchor" href="#method-recruit-"></a></h3>
<p>create worker objects from one or more worker definitions.
Does not actually launch the new worker objects.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">class_crew</span><span class="op">$</span><span class="fu">recruit</span><span class="op">(</span>workers <span class="op">=</span> <span class="fl">1L</span>, class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">self</span><span class="op">$</span><span class="va">worker_classes</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="va">...</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>workers</code></dt>
<dd><p>Number of new worker objects to create.</p></dd>


<dt><code>class</code></dt>
<dd><p>Name of the worker class to use for launching workers.
check the <code>worker_classes</code> field for possible names.</p></dd>


<dt><code>...</code></dt>
<dd><p>Named arguments to the worker constructor.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div><p></p><hr><a id="method-launch"></a><div class="section">
<h3 id="method-launch-">Method <code>launch()</code><a class="anchor" aria-label="anchor" href="#method-launch-"></a></h3>
<p>Launch all down workers in the crew.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">class_crew</span><span class="op">$</span><span class="fu">launch</span><span class="op">(</span>tags <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>tags</code></dt>
<dd><p>Character vector of allowable tags of eligible workers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div><p></p><hr><a id="method-sendable"></a><div class="section">
<h3 id="method-sendable-">Method <code>sendable()</code><a class="anchor" aria-label="anchor" href="#method-sendable-"></a></h3>
<p>Determine if any worker is unassigned
and ready to accept a new job.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">class_crew</span><span class="op">$</span><span class="fu">sendable</span><span class="op">(</span>tags <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>tags</code></dt>
<dd><p>Character vector of allowable tags of eligible workers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p><code>TRUE</code> if the worker can accept a job and <code>FALSE</code> otherwise.</p>
</div>

</div><p></p><hr><a id="method-send"></a><div class="section">
<h3 id="method-send-">Method <code>send()</code><a class="anchor" aria-label="anchor" href="#method-send-"></a></h3>
<p>Send a job to an available worker. Assumes <code>sendable()</code>
on the crew returns <code>TRUE</code>.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">class_crew</span><span class="op">$</span><span class="fu">send</span><span class="op">(</span><span class="va">fun</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, tags <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>fun</code></dt>
<dd><p>Function to run in the job.</p></dd>


<dt><code>args</code></dt>
<dd><p>Named list of function arguments to <code>fun</code>.</p></dd>


<dt><code>tags</code></dt>
<dd><p>Character vector of allowable tags of eligible workers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div><p></p><hr><a id="method-receivable"></a><div class="section">
<h3 id="method-receivable-">Method <code>receivable()</code><a class="anchor" aria-label="anchor" href="#method-receivable-"></a></h3>
<p>Determine if any worker in the crew is done
with its current job and the job output is available for collection.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">class_crew</span><span class="op">$</span><span class="fu">receivable</span><span class="op">(</span>tags <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>tags</code></dt>
<dd><p>Character vector of allowable tags of eligible workers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p><code>TRUE</code> if there exists an eligible worker with job output
that can be accessed with <code>receive()</code>. <code>FALSE</code> otherwise.</p>
</div>

</div><p></p><hr><a id="method-receive"></a><div class="section">
<h3 id="method-receive-">Method <code>receive()</code><a class="anchor" aria-label="anchor" href="#method-receive-"></a></h3>
<p>Find a receivable worker, collect its job output,
and free up the worker.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">class_crew</span><span class="op">$</span><span class="fu">receive</span><span class="op">(</span>tags <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>tags</code></dt>
<dd><p>Character vector of allowable tags of eligible workers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h4>
<p>Once collected and returned. the job output is deleted from
the data store and no longer available to receive.
<code>receive()</code> also marks the worker as "sendable" again (unblocked)
which makes the worker ready for another job (<code>send()</code> method).</p>
</div>

<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>A named list of job output. The <code>value</code> element has the
actual result of the job function, if successful. Other elements
have job metadata such as the error message (if any), traceback,
warnings, and runtime in seconds.</p>
</div>

</div><p></p><hr><a id="method-clear"></a><div class="section">
<h3 id="method-clear-">Method <code>clear()</code><a class="anchor" aria-label="anchor" href="#method-clear-"></a></h3>
<p>Clear worker input and output.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">class_crew</span><span class="op">$</span><span class="fu">clear</span><span class="op">(</span>timeout <span class="op">=</span> <span class="fl">60</span>, wait <span class="op">=</span> <span class="fl">1</span>, down_only <span class="op">=</span> <span class="cn">TRUE</span>, tags <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>timeout</code></dt>
<dd><p>Number of seconds to wait for the file deletion to
succeed.</p></dd>


<dt><code>wait</code></dt>
<dd><p>Number of seconds to wait between iterations checking
that the worker files were successfully removed from the data store.</p></dd>


<dt><code>down_only</code></dt>
<dd><p>Logical of length 1, whether to only clear down jobs.</p></dd>


<dt><code>tags</code></dt>
<dd><p>Character vector of allowable tags of eligible workers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p>Deletes worker input and output files.</p>
</div>

<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p><code>NULL</code> (invisibly)</p>
</div>

</div><p></p><hr><a id="method-shutdown"></a><div class="section">
<h3 id="method-shutdown-">Method <code>shutdown()</code><a class="anchor" aria-label="anchor" href="#method-shutdown-"></a></h3>
<p>Shut down one or more running workers.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">class_crew</span><span class="op">$</span><span class="fu">shutdown</span><span class="op">(</span>
  workers <span class="op">=</span> <span class="cn">Inf</span>,
  sendable_only <span class="op">=</span> <span class="cn">TRUE</span>,
  up_only <span class="op">=</span> <span class="cn">TRUE</span>,
  tags <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>workers</code></dt>
<dd><p>Positive integer of length 1. Maximum number of workers
to try to shut down. Does not count busy (non-sendable)
workers.</p></dd>


<dt><code>sendable_only</code></dt>
<dd><p>Logical of length 1, whether to ignore
workers that are not sendable.</p></dd>


<dt><code>up_only</code></dt>
<dd><p>Logical of length 1, whether to ignore workers
that are not up.</p></dd>


<dt><code>tags</code></dt>
<dd><p>Character vector of allowable tags of eligible workers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a></h4>
<p>This method loops through the workers
from first to last in the worker list. If the worker
is up (running) and sendable (able to receive a job)
then the worker is sent a shutdown command. Otherwise,
the loop moves on to another worker.</p>
</div>

<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div><p></p><hr><a id="method-dismiss"></a><div class="section">
<h3 id="method-dismiss-">Method <code>dismiss()</code><a class="anchor" aria-label="anchor" href="#method-dismiss-"></a></h3>
<p>Delete one or more worker objects.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">class_crew</span><span class="op">$</span><span class="fu">dismiss</span><span class="op">(</span>
  workers <span class="op">=</span> <span class="cn">Inf</span>,
  sendable_only <span class="op">=</span> <span class="cn">TRUE</span>,
  down_only <span class="op">=</span> <span class="cn">TRUE</span>,
  tags <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>workers</code></dt>
<dd><p>Positive integer of length 1. Maximum number of workers
to try to dismiss. Does not count up or busy (non-sendable) workers
(workers with unfinished jobs).</p></dd>


<dt><code>sendable_only</code></dt>
<dd><p>Logical of length 1, whether to ignore
workers that are not sendable.</p></dd>


<dt><code>down_only</code></dt>
<dd><p>Logical of length 1, whether to ignore
workers that are still up.</p></dd>


<dt><code>tags</code></dt>
<dd><p>Character vector of allowable tags of eligible workers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-3">Details<a class="anchor" aria-label="anchor" href="#details-3"></a></h4>
<p>This method loops through the workers
from first to last in the worker list. If the worker
is down and sendable (able to receive a job)
then the worker object is deleted from the crew. Otherwise,
the loop moves on to another worker.</p>
</div>

<div class="section">
<h4 id="returns-9">Returns<a class="anchor" aria-label="anchor" href="#returns-9"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div><p></p><hr><a id="method-restart"></a><div class="section">
<h3 id="method-restart-">Method <code><a href="https://rdrr.io/r/base/base-defunct.html" class="external-link">restart()</a></code><a class="anchor" aria-label="anchor" href="#method-restart-"></a></h3>
<p>Restart one or more stuck workers.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">class_crew</span><span class="op">$</span><span class="fu">restart</span><span class="op">(</span>workers <span class="op">=</span> <span class="cn">Inf</span>, tags <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>workers</code></dt>
<dd><p>Positive integer of length 1. Maximum number of workers
to try to restart. Does not count already unstuck workers.</p></dd>


<dt><code>tags</code></dt>
<dd><p>Character vector of allowable tags of eligible workers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-4">Details<a class="anchor" aria-label="anchor" href="#details-4"></a></h4>
<p>This method loops through the workers
from first to last in the worker list. If the worker
is stuck, then the worker is restarted. Otherwise,
the loop moves on to another worker.</p>
</div>

<div class="section">
<h4 id="returns-10">Returns<a class="anchor" aria-label="anchor" href="#returns-10"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div><p></p><hr><a id="method-validate"></a><div class="section">
<h3 id="method-validate-">Method <code>validate()</code><a class="anchor" aria-label="anchor" href="#method-validate-"></a></h3>
<p>Crew validator.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">class_crew</span><span class="op">$</span><span class="fu">validate</span><span class="op">(</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-11">Returns<a class="anchor" aria-label="anchor" href="#returns-11"></a></h4>
<p><code>NULL</code> (invisibly).</p>
</div>

</div>

    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">crew</span> <span class="op">&lt;-</span> <span class="va">class_crew</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="va">crew</span><span class="op">$</span><span class="fu">recruit</span><span class="op">(</span>workers <span class="op">=</span> <span class="fl">1</span>, timeout <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="va">crew</span><span class="op">$</span><span class="fu">send</span><span class="op">(</span>fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">arg</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"job"</span>, <span class="va">arg</span><span class="op">)</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>arg <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="kw">while</span> <span class="op">(</span><span class="op">!</span><span class="va">crew</span><span class="op">$</span><span class="fu">receivable</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.sleep.html" class="external-link">Sys.sleep</a></span><span class="op">(</span><span class="fl">0.1</span><span class="op">)</span></span>
<span class="r-in"><span class="va">job</span> <span class="op">&lt;-</span> <span class="va">crew</span><span class="op">$</span><span class="fu">receive</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">job</span><span class="op">$</span><span class="va">value</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "job 1"</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">job</span><span class="op">$</span><span class="va">error</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span class="va">crew</span><span class="op">$</span><span class="fu">shutdown</span><span class="op">(</span><span class="op">)</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by William Michael Landau.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

